# 리액트 생명주기 (Life Cycle) & 웹 페이지 렌더링 방식

## 🔹 리액트 생명주기

리액트 컴포넌트는 **생성(Mount) → 업데이트(Update) → 제거(Unmount)** 과정에서 여러 훅(Hook)이나 메서드가 실행됩니다.

### 클래스형 컴포넌트 기준

- **생성 (Mount, 처음 DOM에 삽입될 때)**
  - `constructor()` : 컴포넌트 초기 state, 메서드 바인딩
  - `render()` : UI 렌더링
  - `componentDidMount()` : DOM이 생성된 직후, API 호출, 이벤트 등록 등

- **업데이트 (Update, state/props 변경 시)**
  - `render()` : 변경된 값 반영
  - `componentDidUpdate(prevProps, prevState)` : 리렌더링 후 실행, 변경사항 확인, API 재호출

- **언마운트 (Unmount, DOM에서 제거될 때)**
  - `componentWillUnmount()` : 이벤트 제거, 타이머 클리어 등 정리 작업

---

## 함수형 컴포넌트 기준 (Hooks 사용)

- `useEffect` Hook을 사용해서 생명주기를 컨트롤

```jsx
useEffect(() => {
  // mount 시 실행 (API 호출 등)
  return () => {
    // unmount 시 실행 (정리 작업)
  };
}, []);

useEffect(() => {
  // state/props 변경 시 실행
}, [의존성]);

## 웹 페이지 렌더링 방식

## 🔹 CSR (Client-Side Rendering)

- **방식**  
  브라우저가 빈 HTML을 받고, JS가 실행된 후 React/Vue 같은 프레임워크가 화면을 그림.

- **특징**
  - 초기 로딩이 느릴 수 있음 (JS 다운로드 & 실행 후 렌더링됨)
  - 첫 페이지 로딩 전까지는 “빈 화면” 보일 수 있음
  - 이후 라우팅은 매우 빠름 (싱글 페이지 애플리케이션)
  - SEO(검색엔진 최적화)에 불리함 (봇이 JS 실행 못하는 경우)

- **사용 예시**
  - 웹앱(App-like UI), 관리자 대시보드, 로그인 기반 서비스
  - 예: **Gmail, Trello**

---

## 🔹 SSR (Server-Side Rendering)

- **방식**  
  서버에서 HTML을 다 만들어서 브라우저에 전달 → 브라우저는 즉시 화면 출력 후, JS 실행으로 인터랙션 가능해짐 (**hydration**).

- **특징**
  - 초기 로딩이 빠름 (완성된 HTML 받음)
  - SEO에 유리 (검색엔진이 HTML 내용 바로 크롤링 가능)
  - 서버 부하가 커질 수 있음 (요청마다 HTML을 생성)
  - 페이지 전환 시 서버 요청 필요

- **사용 예시**
  - 콘텐츠 노출이 중요한 서비스 (뉴스, 블로그, 전자상거래)
  - 예: **Next.js SSR 모드, 일부 쇼핑몰**

---

## 🔹 SSG (Static Site Generation)

- **방식**  
  빌드 시점에 HTML을 미리 생성 → 요청 시 서버/CDN에서 정적 파일 제공

- **특징**
  - 가장 빠른 응답 속도 (CDN에서 캐싱된 HTML 바로 제공)
  - 서버 부하 거의 없음
  - SEO 최적화에 매우 좋음
  - **단점**: 빌드 시점 이후의 실시간 데이터 반영이 어려움 (재빌드 필요)

- **사용 예시**
  - 변경이 적은 콘텐츠 사이트 (블로그, 문서, 회사 소개 사이트)
  - 예: **Gatsby, Next.js SSG 모드**

---

## ✅ 정리 비교

| 구분 | CSR | SSR | SSG |
| --- | --- | --- | --- |
| 초기 로딩 | 느림 | 빠름 | 매우 빠름 |
| 페이지 전환 | 빠름 (클라이언트에서 처리) | 느림 (서버 요청 필요) | 빠름 (정적 파일) |
| SEO | 불리 | 유리 | 매우 유리 |
| 서버 부하 | 적음 | 많음 | 거의 없음 |
| 사용 예시 | SPA, 대시보드 | 뉴스, 쇼핑몰 | 블로그, 문서 사이트 |

---

## 👉 요약

- **CSR** → 로그인 기반, 앱 같은 UX 필요한 곳  
- **SSR** → SEO 중요 + 자주 바뀌는 데이터  
- **SSG** → 콘텐츠 위주 + 변경이 적은 사이트
